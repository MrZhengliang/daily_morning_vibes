{% extends "base.html" %}

{% block title %}Home - Daily Morning Vibes{% endblock %}

{% block head %}
<meta name="description" content="Start your day with inspiring morning quotes and positive vibes. Daily motivation for a better life.">
<meta name="keywords" content="morning quotes, daily inspiration, positive vibes, motivational quotes">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Adsense å°†åœ¨è¿™é‡Œæ·»åŠ  -->
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <h1>Start Your Day Right</h1>
    <p>Discover beautiful moments and inspiring stories for daily motivation</p>
</section>

<!-- Category Navigation -->
<nav class="category-nav">
    <div class="container">
        <h2 class="category-nav-title">Browse by Category</h2>
        <div class="category-grid">
            <a href="/" class="category-card {% if not current_category %}active{% endif %}">
                <span class="category-icon">â˜€ï¸</span>
                <span class="category-name">All Quotes</span>
            </a>
            <a href="/category/morning" class="category-card {% if current_category == 'morning' %}active{% endif %}">
                <span class="category-icon">ğŸŒ…</span>
                <span class="category-name">Morning</span>
            </a>
            <a href="/category/motivation" class="category-card {% if current_category == 'motivation' %}active{% endif %}">
                <span class="category-icon">ğŸ’ª</span>
                <span class="category-name">Motivation</span>
            </a>
            <a href="/category/gratitude" class="category-card {% if current_category == 'gratitude' %}active{% endif %}">
                <span class="category-icon">ğŸ™</span>
                <span class="category-name">Gratitude</span>
            </a>
            <a href="/category/mindfulness" class="category-card {% if current_category == 'mindfulness' %}active{% endif %}">
                <span class="category-icon">ğŸ§˜</span>
                <span class="category-name">Mindfulness</span>
            </a>
            <a href="/category/positivity" class="category-card {% if current_category == 'positivity' %}active{% endif %}">
                <span class="category-icon">âœ¨</span>
                <span class="category-name">Positivity</span>
            </a>
        </div>
    </div>
</nav>

<!-- Google Ads é¡¶éƒ¨æ¨ªå¹…å¹¿å‘Šä½ -->
<div class="hero-banner-ad ad-placeholder">
    <p>Google AdSense Banner Ad (728x90)</p>
    <p>Place your ad code here</p>
</div>

<!-- Content Grid -->
<div class="content-wrapper">
    <div class="post-grid">
        {% for quote in quotes %}
        <article class="post-card">
            {% if quote.image_oss_url %}
            <img src="{{ quote.image_oss_url }}" alt="Morning Vibe - {{ quote.text_en[:50] }}" class="post-image" loading="lazy">
            {% endif %}
            <div class="post-content">
                <div class="post-tag">
                    <span class="tag">{{ quote.category|title }}</span>
                </div>
                <h2>
                    <a href="/quote/{{ quote.id }}" title="{{ quote.text_en }}">
                        {{ quote.text_en[:50] }}{% if quote.text_en|length > 50 %}...{% endif %}
                    </a>
                </h2>
                <p class="post-date">
                    <time datetime="{{ quote.gmt_create }}">{{ quote.gmt_create.strftime('%Y-%m-%d') }}</time>
                </p>
                <p class="post-excerpt">{{ quote.text_en[:150] }}...</p>
                <a href="/quote/{{ quote.id }}" class="read-more" aria-label="Read more about {{ quote.text_en[:30] }}">Read More â†’</a>
            </div>
        </article>
        {% endfor %}
    </div>
</div>

<!-- åˆ†é¡µå¯¼èˆª -->
{% if total_pages > 1 %}
<nav class="pagination" aria-label="Pagination">
    <div class="container">
        <div class="pagination-wrapper">
            {% if current_page > 1 %}
            <a href="{% if current_category %}/category/{{ current_category }}?page={{ current_page - 1 }}{% else %}/?page={{ current_page - 1 }}{% endif %}" class="pagination-btn prev" aria-label="Previous page">
                â† Previous
            </a>
            {% else %}
            <span class="pagination-btn disabled">â† Previous</span>
            {% endif %}

            <span class="pagination-info">
                Page {{ current_page }} of {{ total_pages }}
            </span>

            {% if current_page < total_pages %}
            <a href="{% if current_category %}/category/{{ current_category }}?page={{ current_page + 1 }}{% else %}/?page={{ current_page + 1 }}{% endif %}" class="pagination-btn next" aria-label="Next page">
                Next â†’
            </a>
            {% else %}
            <span class="pagination-btn disabled">Next â†’</span>
            {% endif %}
        </div>
    </div>
</nav>
{% endif %}

<!-- Google Ads åº•éƒ¨æ¨ªå¹…å¹¿å‘Šä½ -->
<div class="ad-placeholder bottom-ad">
    <p>Google AdSense Bottom Banner Ad</p>
    <p>Place your ad code here</p>
</div>

<!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
<button id="backToTop" class="back-to-top" aria-label="Back to top">â†‘</button>
{% endblock %}

{% block scripts %}
<script>
// è¿”å›é¡¶éƒ¨åŠŸèƒ½
document.addEventListener('DOMContentLoaded', function() {
    const backToTopBtn = document.getElementById('backToTop');

    window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
            backToTopBtn.style.display = 'block';
        } else {
            backToTopBtn.style.display = 'none';
        }
    });

    backToTopBtn.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
});

// å›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–
if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.src;
                observer.unobserve(img);
            }
        });
    });

    document.querySelectorAll('img[loading="lazy"]').forEach(img => {
        imageObserver.observe(img);
    });
}
</script>
{% endblock %}
